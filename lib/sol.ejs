pragma solidity ^0.4.24;

contract <%= contract.name %> {

<%
  function annotationToString(_annotations){
    var res;
    if (_annotations && _annotations.length > 0) {
      res = _annotations.map(function(a){
        var strArg = (a.args) ? 
          a.args.map(arg=>{
            return "(" + arg.plasmaType + ' ' + arg.plasmaValue + ' => ' + arg.ethType + ")"
          }).join(", ")
        : ""
        return a.name + '  ' + strArg
      }).join("\n      ")
    }
    return res
  }

  for(var i=0;i < contract.clauses.length;i++) {
    const clause = contract.clauses[i];
    var isPrivateClause = clause.scope == "private"
    var returnsArray = clause.returnArgs ? clause.returnArgs.map(o=> `${o.type} ${o.name}` ) : []
    if(!isPrivateClause) returnsArray.unshift("txo contract");
    
%>
  /**
  * @dev <%= contract.name %>.<%= clause.name%>
  */
  function <%= clause.name %>(<%= isPrivateClause ? "" : "txo contract, " %><%= clause.args.map(o=> `${o.type} ${o.name}` ).join(", ") %>)
  <%= isPrivateClause ? "private" : "internal" %>
  pure
  returns (<%= returnsArray.join(", ") %>)
  {
    <%-
      isPrivateClause ?
        ""
      :
        `\/*
    [annotations: client_verification&exit]
       ${annotationToString(clause.annotations)}
    *\/`
    %>
    <%- clause.statement.body %>
  }
<% } %>

}
